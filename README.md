## 🎯 Spring Batch 를 이용한 정산 시스템 프로젝트

----

**Spring Batch 를 이용해 자동화된 정산 시스템을 만든 프로젝트 입니다.**

----

### 기술 요구 사항

- SpringBatch 를 사용해 구현해야 합니다.
-  DB 사용은 필수이며 AWS Aurora 를 사용하고 JPA 를 사용해 DB 를 구축해야 합니다.

### 기능 요구 사항

1. 데이터 수집 및 전처리
   - 거래 데이터 수집: 가게의 거래 데이터를 수집합니다. 데이터는 하루 동안 발생한 모든 거래 내역(판매, 환불 등)을 포함해야 합니다.
   - 데이터 유효성 검증: 수집된 거래 데이터의 유효성을 검증하는 단계를 추가합니다. 예를 들어, 누락된 필드가 없는지, 금액이 음수가 아닌지 등의 검증 로직을 포함합니다.
   - 데이터 정규화: 여러 가게에서 수집된 데이터를 하나의 표준 포맷으로 정규화합니다. 서로 다른 포맷의 데이터를 동일한 포맷으로 변환하는 로직을 구현합니다.
     
2. 정산 계산 로직
   - 매출 집계: 가게별 총 매출, 환불 금액, 순매출을 계산합니다.
   - 수수료 계산: 각 가게에 적용되는 수수료(예: 결제 수수료, 플랫폼 수수료 등)를 계산하여 최종 정산 금액을 계산합니다.
   - 할인 처리: 특정 프로모션이나 할인 이벤트가 적용된 경우, 이를 반영하여 정산 금액을 계산합니다.
   
4. 정산 결과 저장
   - 정산 내역 저장: 계산된 정산 결과를 DB에 저장합니다. 가게별로 일별, 월별 정산 내역을 관리할 수 있도록 테이블을 설계합니다.
   - 이력 관리: 정산 작업의 이력을 관리합니다. 예를 들어, 정산이 언제 완료되었는지, 성공/실패 여부 등을 기록합니다.

5. 스케줄링 및 알림
   - 정산 작업 스케줄링: AM 3:00에 정산 작업이 자동으로 실행되도록 Spring Batch의 스케줄링 기능을 사용하여 배치 작업을 구성합니다.
   - 실패 시 재시도 로직: 정산 작업이 실패했을 때 자동으로 재시도하는 로직을 구현합니다. 재시도 횟수와 대기 시간을 설정합니다.
   - 정산 완료 알림: 정산 작업이 완료되면 가게 주인에게 정산 완료 알림을 전송합니다. 이메일이나 SMS 등을 활용할 수 있습니다
   
6. 정산 결과 파일 생성 및 다운로드
   - 정산 결과 파일 생성: 정산 결과를 CSV 또는 Excel 파일로 생성하는 기능을 구현합니다. 파일에는 가게별 매출, 수수료, 최종 정산 금액 등이 포함되어야 합니다.
   - 파일 저장소 관리: 생성된 파일을 AWS S3 또는 로컬 파일 시스템에 저장하는 기능을 구현합니다.
   - 파일 다운로드 API: 저장된 정산 결과 파일을 다운로드할 수 있는 REST API를 제공합니다. 가게별로 파일을 조회하고 다운로드할 수 있어야 합니다.



